document.addEventListener("DOMContentLoaded", function () {
    var gbbtn_class = document.getElementsByClassName("gbBtn");
    var gbspans = document.querySelectorAll(".gbclose");
    for (var i = 0; i < gbbtn_class.length; i++) {
        gbbtn_class[i].addEventListener("click", function () {
            var productsku = this.getAttribute("data-productsku");
            var cartcode = this.getAttribute("data-cartcode");
            if (productsku != "" && productsku != null && cartcode != "" && cartcode != null) {
                document.querySelector("#frm__delete").innerHTML += `
                <input type="hidden" name="cartcode" value="` + cartcode + `">
                <input type="hidden" name="sku" value="` + productsku + `">
                `
            }
            var modalid = this.getAttribute("data-target");
            var gbmodal = document.querySelector("#" + modalid);
            if (gbmodal != null) {
                gbmodal.style.display = "flex"
            }
        })
    }
    gbspans.forEach(function (gbspan) {
        gbspan.addEventListener("click", function () {
            var gbmodal = this.closest(".gbmodal");
            gbmodal.style.display = "none"
        })
    });
    window.onclick = function (event) {
        if (!event.target.closest(".gbmodal__inner") && !event.target.closest(".gbBtn") || event.target.closest(".gbclose")) {
            var gbmodals = document.querySelectorAll(".gbmodal");
            gbmodals.forEach(function (gbmodal) {
                gbmodal.style.display = "none"
            })
        }
    }
});